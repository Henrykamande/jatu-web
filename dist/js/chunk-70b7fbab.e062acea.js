(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70b7fbab"],{1681:function(t,e,a){},"17a4":function(t,e,a){"use strict";var r=a("8336"),i=a("62ad"),o=a("132d"),s=function(){var t=this,e=t._self._c;return e("div",[e(i["a"],{attrs:{cols:"12"}},[e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",multiple:""},on:{change:t.onFilePicked}}),e(r["a"],{staticClass:"uploadbtn",attrs:{color:"teal",dark:"",rounded:""},on:{click:t.fileUploadInit}},[e(o["a"],{attrs:{left:""}},[t._v(" mdi-attachment")]),t._v(" "+t._s(t.title)+" ")],1)],1)],1)},n=[],c=(a("d3b7"),a("159b"),a("b64b"),a("3ca3"),a("ddb0"),a("24cf")),l={name:"MultipleFileUpload",props:{title:{default:"Browse files"}},computed:{},data:function(){return{image:null,imageUrl:"",formData:null,rawImage:null,standAlone:!0,imageCollection:null}},methods:{onFilePicked:c["b"],fileUploadInit:c["a"],emitData:function(){var t=this.image,e=this.imageUrl,a=this.rawImage,r={image:t,imageUrl:e,rawImage:a},i=this,o=[],s=this.imageCollection,n=[];Object.keys(s).forEach((function(t){var e=s[t];console.log(e,"object"),o.push(e),n.push(i.readUrl(e))})),Promise.all(n).then((function(t){i.$emit("urls",t)})),this.$emit("image",r),this.$emit("collection",o)},readUrl:function(t){return new Promise((function(e){var a,r=new FileReader;r.readAsDataURL(t),r.addEventListener("load",(function(){a=r.result,e(a)}))}))}}},u=l,d=(a("93e0"),a("2877")),h=Object(d["a"])(u,s,n,!1,null,"0263e722",null);e["a"]=h.exports},"4fa2":function(t,e,a){"use strict";var r=a("8336"),i=a("62ad"),o=a("a523"),s=a("132d"),n=a("adda"),c=a("0fd9"),l=a("8654"),u=a("a844"),d=(a("99af"),function(){var t=this,e=t._self._c;return e(o["a"],{attrs:{fluid:""}},[e(c["a"],[e(i["a"],{attrs:{cols:"12",md:"12"}},[e(l["a"],{attrs:{label:"Title",name:"serviceName",outlined:"",dense:""},model:{value:t.record.title,callback:function(e){t.$set(t.record,"title",e)},expression:"record.title"}})],1),e(i["a"],{attrs:{cols:"12"}},[e(u["a"],{attrs:{outlined:"",label:"Introduction Text",value:"",rows:"3"},model:{value:t.record.introText,callback:function(e){t.$set(t.record,"introText",e)},expression:"record.introText"}})],1),e(i["a"],{attrs:{cols:"6"}},[e(l["a"],{attrs:{label:"H1",outlined:"",dense:""},model:{value:t.record.h1,callback:function(e){t.$set(t.record,"h1",e)},expression:"record.h1"}})],1),e(i["a"],{attrs:{cols:"6"}},[e(l["a"],{attrs:{label:"H2",outlined:"",dense:""},model:{value:t.record.h2,callback:function(e){t.$set(t.record,"h2",e)},expression:"record.h2"}})],1),e(i["a"],{attrs:{cols:"12"}},[e(l["a"],{attrs:{label:"Meta Title",outlined:"",dense:""},model:{value:t.record.metaTitle,callback:function(e){t.$set(t.record,"metaTitle",e)},expression:"record.metaTitle"}})],1),e(i["a"],{attrs:{cols:"12"}},[e(u["a"],{attrs:{outlined:"",label:"Meta Description",value:""},model:{value:t.record.metaDescription,callback:function(e){t.$set(t.record,"metaDescription",e)},expression:"record.metaDescription"}})],1),e(i["a"],{attrs:{cols:"12"}},[e("html-editor",{ref:"footer_content"})],1)],1),e(c["a"],{staticStyle:{"margin-top":"80px"}},[e(i["a"],{attrs:{cols:"12"}},[e("label",[t._v("Cover Image")]),e("file-upload",{on:{image:t.setCoverImage}})],1),e(i["a"],{attrs:{cols:"6"}},[t.coverImageUrl?e("img",{staticStyle:{width:"350px",height:"350px",padding:"20px"},attrs:{src:t.coverImageUrl}}):t._e()])],1),e(c["a"],[e(i["a"],{attrs:{cols:"12"}},[e("label",[t._v("Other Images")]),e("multi-upload",{on:{collection:t.setImages,urls:t.setImagesUrls}})],1)],1),e(c["a"],t._l(t.imagesUrls,(function(a,o){return e(i["a"],{key:o,attrs:{cols:"3"}},[t._v(" sddfgf "),a?e(n["a"],{staticStyle:{width:"350px",height:"250px",padding:"20px","margin-right":"2px"},attrs:{src:a}}):t._e(),e(r["a"],{attrs:{icon:""},on:{click:function(e){return t.removeOtherImage(o)}}},[e(s["a"],{attrs:{color:"red"}},[t._v("mdi-close")])],1)],1)})),1),e(c["a"],{directives:[{name:"show",rawName:"v-show",value:"view"==t.pageStatus,expression:"pageStatus == 'view'"}],staticStyle:{"margin-top":"50px"}},[e(i["a"],{attrs:{cols:"4"}},[e(n["a"],{attrs:{src:"".concat(t.serverUrl,"/uploads/services/").concat(t.record.coverImage),height:"200px"}})],1)],1),e(c["a"],{directives:[{name:"show",rawName:"v-show",value:"view"==t.pageStatus,expression:"pageStatus == 'view'"}]},t._l(t.record.otherImages,(function(a,r){return e(i["a"],{key:r,attrs:{cols:"4"}},[e(n["a"],{attrs:{src:"".concat(t.serverUrl,"/uploads/services/").concat(a),height:"200px"}})],1)})),1),e(c["a"],[e(i["a"],{attrs:{cols:"12"}},[e(r["a"],{directives:[{name:"show",rawName:"v-show",value:"create"==t.action,expression:"action == 'create'"}],attrs:{color:"accent",loading:t.loader},on:{click:t.sendData}},[e(s["a"],{attrs:{left:""}},[t._v("mdi-content-save")]),t._v("Save ")],1),e(r["a"],{directives:[{name:"show",rawName:"v-show",value:"view"==t.action,expression:"action == 'view'"}],attrs:{color:"accent",loading:t.loader},on:{click:t.sendData}},[e(s["a"],{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Update ")],1)],1)],1),e("snackbar",{ref:"snackbar"})],1)}),h=[],m=a("5530"),p=(a("a15b"),a("ac1f"),a("1276"),a("498a"),a("5319"),a("e9c4"),a("d3b7"),a("159b"),a("a434"),a("2f62")),f=a("6b26"),v=a("2d87"),g=a("17a4"),w={computed:Object(m["a"])({},Object(p["b"])(["serverUrl"])),components:{FileUpload:f["a"],MultiUpload:g["a"],HtmlEditor:v["a"]},props:{action:{type:String},initial:{type:Object}},data:function(){return{sizes:[{name:"1 Acre"},{name:"2 Acres"}],record:{},departments:[],categories:[],pageStatus:"",loader:!1,coverImage:null,images:[],imagesUrls:[],coverImageUrl:null,menuPositions:[{name:"On Menu",value:"M"},{name:"On Page",value:"P"}]}},watch:{action:{handler:"setAction",immediate:!0},initial:{handler:"setInitial",immediate:!0}},methods:{initializeContent:function(){var t=this;setTimeout((function(){t.record.content&&""!==t.record.content&&t.$refs.footer_content&&t.$refs.footer_content.setContent(t.record.content)}),100)},setAction:function(t){this.pageStatus=t},setInitial:function(t){this.record=Object(m["a"])({},t),this.initializeContent()},sendData:function(){var t=this.$refs.footer_content.getContent(),e=new FormData,a=this.record.title.toLowerCase().replace(/[^\w\s]/gi,"").trim().split(" ").join("-");this.record.url=a,e.append("coverImage",this.coverImage),e.append("content",t),e.append("introText",this.introText),e.append("product",JSON.stringify(this.record)),e.append("actionStatus","view");var r=this.images;r.forEach((function(t){var a=t;e.append("otherImages",a)})),this.loader=!0,this.$emit("data",e)},setCoverImage:function(t){var e=t.image,a=t.imageUrl;this.coverImage=e,this.coverImageUrl=a},setImages:function(t){this.images=t},setImagesUrls:function(t){this.imagesUrls=t},removeOtherImage:function(t){this.imagesUrls.splice(t,1),this.images.splice(t,1)}},created:function(){}},b=w,I=a("2877"),x=Object(I["a"])(b,d,h,!1,null,"01ac833b",null);e["a"]=x.exports},"93e0":function(t,e,a){"use strict";a("d693")},a844:function(t,e,a){"use strict";var r=a("5530"),i=(a("a9e3"),a("1681"),a("8654")),o=a("58df"),s=Object(o["a"])(i["a"]);e["a"]=s.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(r["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},i["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var a;t?e.calculateInputHeight():null===(a=e.$refs.input)||void 0===a||a.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=i["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){i["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},d693:function(t,e,a){},f86c:function(t,e,a){"use strict";a.r(e);var r=a("8336"),i=a("b0af"),o=a("99d9"),s=a("a523"),n=a("132d"),c=a("2fa4"),l=a("71d9"),u=a("2a7f"),d=function(){var t=this,e=t._self._c;return e(s["a"],{attrs:{fluid:""}},[e(i["a"],[e(l["a"],{attrs:{color:"toolbarColor",dense:"",dark:""}},[e(u["a"],[t._v("Service Details")]),e(c["a"]),e(r["a"],{attrs:{text:"",to:"/services"}},[e(n["a"],{attrs:{left:""}},[t._v("mdi-arrow-left")]),t._v("Back ")],1)],1),e(o["c"],[e("editor",{attrs:{action:t.action,initial:t.dataItem},on:{data:t.save}})],1)],1),e("snackbar",{ref:"snackbar"})],1)},h=[],m=a("4fa2"),p={components:{Editor:m["a"]},data:function(){return{action:"view",url:null,dataItem:{}}},watch:{"$route.params.url":{handler:"setUrl",immediate:!0}},methods:{setUrl:function(t){var e=this;this.url=t;var a="/services/".concat(t),r=this;this.$store.dispatch("expressGet",a).then((function(t){t.state?r.dataItem=t.record:r.$refs.snackbar.show(t.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))},save:function(t){var e=this,a="/services/".concat(this.dataItem._id),r=this;this.$store.dispatch("expressPut",{url:a,data:t}).then((function(t){t.state?location.reload():r.$refs.snackbar.show(t.msg,"red")})).catch((function(t){e.$refs.snackbar.show(t,"red")}))}},created:function(){}},f=p,v=a("2877"),g=Object(v["a"])(f,d,h,!1,null,"ce728870",null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-70b7fbab.e062acea.js.map