(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf020d7c"],{"169a":function(t,e,i){"use strict";var a=i("5530"),n=i("2909"),s=i("ade3"),o=(i("a9e3"),i("498a"),i("caad"),i("2532"),i("d3b7"),i("7db0"),i("368e"),i("480e")),l=i("4ad4"),c=i("b848"),r=i("75eb"),h=i("e707"),u=i("e4d3"),d=i("21be"),f=i("a293"),p=i("58df"),v=i("d9bd"),m=i("80d2"),g=Object(p["a"])(c["a"],r["a"],h["a"],u["a"],d["a"],l["a"]);e["a"]=g.extend({name:"v-dialog",directives:{ClickOutside:f["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(s["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(s["a"])(t,"v-dialog--active",this.isActive),Object(s["a"])(t,"v-dialog--persistent",this.persistent),Object(s["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(s["a"])(t,"v-dialog--scrollable",this.scrollable),Object(s["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null===(e=this.previousActiveElement)||void 0===e||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(v["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):h["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){var e,i;(null===(e=t.$refs.dialog)||void 0===e?void 0:e.contains(document.activeElement))||(t.previousActiveElement=document.activeElement,null===(i=t.$refs.dialog)||void 0===i||i.focus()),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===m["z"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&this.$refs.dialog&&![document,this.$refs.dialog].includes(e)&&!this.$refs.dialog.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var i=this.$refs.dialog.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),a=Object(n["a"])(i).find((function(t){return!t.hasAttribute("disabled")}));a&&a.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(o["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(a["a"])({role:"dialog","aria-modal":t.hideOverlay?void 0:"true"},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,attrs:{tabindex:this.isActive?0:void 0},ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(a["a"])(Object(a["a"])({},t.style),{},{maxWidth:Object(m["h"])(this.maxWidth),width:Object(m["h"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}})},2677:function(t,e,i){"use strict";var a=i("8654");e["a"]=a["a"]},"368e":function(t,e,i){},5803:function(t,e,i){},"8adc":function(t,e,i){},cc20:function(t,e,i){"use strict";var a=i("3835"),n=i("5530"),s=(i("d3b7"),i("4de4"),i("8adc"),i("58df")),o=i("0789"),l=i("9d26"),c=i("a9ad"),r=i("4e82"),h=i("7560"),u=i("f2e7"),d=i("1c87"),f=i("af2b"),p=i("d9bd");e["a"]=Object(s["a"])(c["a"],f["a"],d["a"],h["a"],Object(r["a"])("chipGroup"),Object(u["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({"v-chip":!0},d["a"].options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function(){return Boolean(this.close)},isClickable:function(){return Boolean(d["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created:function(){var t=this,e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach((function(e){var i=Object(a["a"])(e,2),n=i[0],s=i[1];t.$attrs.hasOwnProperty(n)&&Object(p["a"])(n,s,t)}))},methods:{click:function(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter:function(){var t=[];return this.isActive&&t.push(this.$createElement(l["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(o["b"],t)},genClose:function(){var t=this;return this.$createElement(l["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$emit("click:close"),t.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function(t){var e=[this.genContent()],i=this.generateRouteLink(),a=i.tag,s=i.data;s.attrs=Object(n["a"])(Object(n["a"])({},s.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:s.attrs.tabindex}),s.directives.push({name:"show",value:this.active}),s=this.setBackgroundColor(this.color,s);var o=this.textColor||this.outlined&&this.color;return t(a,this.setTextColor(o,s),e)}})},da12:function(t,e,i){"use strict";i.r(e);var a=i("8336"),n=i("b0af"),s=i("99d9"),o=i("cc20"),l=i("62ad"),c=i("a523"),r=i("169a"),h=i("2909"),u=i("5530"),d=i("53ca"),f=(i("a9e3"),i("caad"),i("d3b7"),i("13d5"),i("d81d"),i("b0c0"),i("99af"),i("a434"),i("159b"),i("fb6a"),i("5803"),i("2677")),p=i("80d2"),v=i("d9bd"),m=i("d9f7"),g=f["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"===typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return Object(p["I"])(t).every((function(t){return null!=t&&"object"===Object(d["a"])(t)}))}}},computed:{classes:function(){return Object(u["a"])(Object(u["a"])({},f["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var i=e.size,a=void 0===i?0:i;return t+a}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(p["x"])(e,1024===this.base))},internalArrayValue:function(){return Object(p["I"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},text:function(){var t=this;return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(e){var i=e.name,a=void 0===i?"":i,n=e.size,s=void 0===n?0:n,o=t.truncateText(a);return t.showSize?"".concat(o," (").concat(Object(p["x"])(s,1024===t.base),")"):o})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(v["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.multiple?t:t?[t]:[];Object(p["k"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(e,i){return t.$createElement(o["a"],{props:{small:t.smallChips},on:{"click:close":function(){var e=t.internalValue;e.splice(i,1),t.internalValue=e}}},[e])})):[]},genControl:function(){var t=f["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(m["d"])(t.data.style,{display:"none"})),t},genInput:function(){var t=f["a"].options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(i,a){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[a],file:i,index:a}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=f["a"].options.methods.genTextFieldSlot.call(this);return e.data.on=Object(u["a"])(Object(u["a"])({},e.data.on||{}),{},{click:function(){return t.$refs.input.click()}}),e},onInput:function(t){var e=Object(h["a"])(t.target.files||[]);this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"…").concat(t.slice(t.length-e))}}}),b=i("132d"),y=i("0fd9"),x=i("2fa4"),k=i("8654"),C=i("71d9"),$=i("2a7f"),w=function(){var t=this,e=t._self._c;return e(c["a"],{attrs:{fluid:""}},[e(n["a"],[e(C["a"],{attrs:{color:"toolbarColor",dense:"",dark:""}},[e($["a"],[t._v("Blog Attachments")]),e(x["a"]),e(a["a"],{attrs:{text:"",to:"/blog"}},[e(b["a"],{attrs:{left:""}},[t._v("mdi-arrow-left")]),t._v("Back ")],1)],1),e(s["c"],[e(y["a"],[e(l["a"],{attrs:{cols:"12"}},[e("h2",[t._v(t._s(t.dataItem.title))])]),e(l["a"],{attrs:{cols:"12"}},[e(a["a"],{attrs:{color:"accent",text:""},on:{click:t.openDialog}},[e(b["a"],{attrs:{left:""}},[t._v("mdi-plus")]),t._v("Attachment")],1)],1),t._l(t.dataItem.attachments,(function(i,n){return e(l["a"],{key:n,attrs:{cols:"12",md:"4"}},[e("a",{attrs:{href:"".concat(t.serverUrl,"/uploads/attachments/").concat(i.fileName)}},[t._v(t._s(i.title))]),e(a["a"],{staticStyle:{"margin-left":"50px"},attrs:{icon:""},on:{click:function(e){return t.openDeleteDialog(i)}}},[e(b["a"],{attrs:{color:"red"}},[t._v("mdi-close")])],1)],1)}))],2),e(y["a"],[e(r["a"],{attrs:{"max-width":"750px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(n["a"],[e(C["a"],{attrs:{dense:"",color:"toolbarColor",dark:""}},[e($["a"],[t._v("New Attachment")]),e(x["a"]),e(a["a"],{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[e(b["a"],[t._v("mdi-close")])],1)],1),e(s["c"],[e(c["a"],{attrs:{fluid:""}},[e(y["a"],{staticClass:"subtitle-2 text--primary"},[e(l["a"],{attrs:{cols:"12",xs:"12",sm:"6",md:"12"}},[e(k["a"],{attrs:{label:"Title",outlined:"",dense:""},model:{value:t.attachmentName,callback:function(e){t.attachmentName=e},expression:"attachmentName"}})],1),e(l["a"],{attrs:{cols:"12",xs:"12",sm:"6",md:"12"}},[e(g,{attrs:{color:"deep-purple accent-4",counter:"",label:"File input",placeholder:"Select Document","prepend-icon":"mdi-paperclip",outlined:"","show-size":1e3},scopedSlots:t._u([{key:"selection",fn:function(i){var a=i.index,n=i.text;return[a<2?e(o["a"],{attrs:{color:"deep-purple accent-4",dark:"",label:"",small:""}},[t._v(" "+t._s(n)+" ")]):2===a?e("span",{staticClass:"text-overline grey--text text--darken-3 mx-2"},[t._v(" +"+t._s(t.files.length-2)+" File(s) ")]):t._e()]}}]),model:{value:t.attachmentImage,callback:function(e){t.attachmentImage=e},expression:"attachmentImage"}})],1),e(l["a"],{attrs:{cols:"12"}},[e(a["a"],{attrs:{color:"accent",loading:t.loader},on:{click:t.save}},[e(b["a"],{attrs:{left:""}},[t._v("mdi-content-save")]),t._v("Save ")],1)],1)],1)],1)],1)],1)],1),e(r["a"],{attrs:{"max-width":"650px"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[e(n["a"],[e(C["a"],{attrs:{dense:"",color:"toolbarColor",dark:""}},[e($["a"],[t._v("Delete Attachment")]),e(x["a"]),e(a["a"],{attrs:{icon:""},nativeOn:{click:function(e){t.deleteDialog=!1}}},[e(b["a"],[t._v("mdi-close")])],1)],1),e(s["c"],[e(c["a"],{attrs:{fluid:""}},[e(y["a"],{staticClass:"subtitle-2 text--primary"},[e(l["a"],{attrs:{cols:"12",xs:"12",sm:"6",md:"12"}},[t._v(" Are you sure you want to delete "),e("span",{staticStyle:{color:"red"}},[t._v(t._s(t.selectedItem.title))]),t._v(" ? ")]),e(l["a"],{attrs:{cols:"12"}},[e(a["a"],{attrs:{color:"red",dark:"",loading:t.loader},on:{click:t.deleteAttachment}},[e(b["a"],{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Delete ")],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),e("snackbar",{ref:"snackbar"})],1)},O=[],S=(i("a15b"),i("ac1f"),i("1276"),i("498a"),i("5319"),i("2f62")),_={components:{},computed:Object(u["a"])({},Object(S["b"])(["serverUrl"])),data:function(){return{action:"view",url:null,dataItem:{},dialog:!1,deleteDialog:!1,attachmentImage:[],attachmentUrl:"",attachmentName:null,selectedItem:{}}},watch:{"$route.params.url":{handler:"setUrl",immediate:!0}},methods:{setUrl:function(t){this.url=t},openDialog:function(){this.dialog=!0},openDeleteDialog:function(t){this.selectedItem=t,this.deleteDialog=!0},setAttachmentImage:function(t){var e=t.image,i=t.imageUrl;this.attachmentImage=e,this.attachmentUrl=i},save:function(){var t=this,e=new FormData,i=this.attachmentName.toLowerCase().replace(/[^\w\s]/gi,"").trim().split(" ").join("-"),a="".concat(this.dataItem.url,"-").concat(i),n=this.dataItem._id;e.append("attachmentImage",this.attachmentImage),e.append("title",a),e.append("imageName",this.attachmentName),e.append("_id",n);var s="/blog/create/attachment";this.loader=!0,this.$store.dispatch("expressPost",{url:s,data:e}).then((function(t){t.state?location.reload():self.$refs.snackbar.show(t.msg,"red")})).finally((function(){location.reload()})).catch((function(e){t.$refs.snackbar.show(e,"red")}))},deleteAttachment:function(){var t=this,e={_id:this.dataItem._id,fileName:this.selectedItem.fileName},i="/blog/delete/attachment";this.loader=!0,this.$store.dispatch("expressPost",{url:i,data:e}).then((function(t){t.state?location.reload():self.$refs.snackbar.show(t.msg,"red")})).finally((function(){location.reload()})).catch((function(e){t.$refs.snackbar.show(e,"red")}))},getData:function(){var t=this,e="/blog/".concat(this.url),i=this;this.$store.dispatch("expressGet",e).then((function(t){t.state?i.dataItem=t.record:i.$refs.snackbar.show(t.msg,"red")})).catch((function(e){t.$refs.snackbar.show(e,"red")}))}},created:function(){this.getData()}},I=_,j=i("2877"),A=Object(j["a"])(I,w,O,!1,null,"1d1bd619",null);e["default"]=A.exports}}]);
//# sourceMappingURL=chunk-cf020d7c.be197354.js.map