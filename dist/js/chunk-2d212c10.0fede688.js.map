{"version":3,"sources":["webpack:///./src/components/projects/index.vue","webpack:///src/components/projects/index.vue","webpack:///./src/components/projects/index.vue?5941","webpack:///./src/components/projects/index.vue?216a"],"names":["_c","attrs","model","callback","search","headers","fn","key","item","_vm","value","active","staticStyle","expression","nativeOn","staticClass","ref","staticRenderFns","computed","mapGetters","data","projects","dialog","activeItem","loader","text","methods","openModal","updateStatus","product","dispatch","url","then","location","self","catch","getData","console","deleteItem","created","component"],"mappings":"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","file":"js/chunk-2d212c10.0fede688.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-toolbar',{attrs:{\"color\":\"toolbarColor\",\"dense\":\"\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Projects\")])],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{attrs:{\"color\":\"accent\",\"text\":\"\",\"to\":\"/new/project\"}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\"Project \")],1)],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Label\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-data-table',{attrs:{\"items-per-page\":1000,\"headers\":_vm.headers,\"items\":_vm.projects,\"search\":_vm.search,\"mobile-breakpoint\":0},scopedSlots:_vm._u([{key:\"item.delete\",fn:function({ item }){return [_c('v-btn',{attrs:{\"color\":\"accent\",\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.openModal(item)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)]}},{key:\"item.title\",fn:function({ item }){return [_c('v-btn',{attrs:{\"color\":\"accent\",\"text\":\"\",\"to\":`/project/details/${item.url}`}},[_vm._v(_vm._s(item.title))])]}},{key:\"item.action\",fn:function({ item }){return [_c('v-btn',{attrs:{\"color\":\"accent\",\"text\":\"\",\"to\":`/project/details/${item.url}`,\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-eye\")])],1)]}},{key:\"item.zones\",fn:function({ item }){return [_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"to\":`/project/zones/${item.url}`}},[_c('v-icon'),_vm._v(\"Zones \")],1)]}},{key:\"item.active\",fn:function({ item }){return [_c('v-switch',{attrs:{\"color\":\"accent\"},on:{\"change\":function($event){return _vm.updateStatus(item)}},model:{value:(item.active),callback:function ($$v) {_vm.$set(item, \"active\", $$v)},expression:\"item.active\"}})]}},{key:\"item.costdef\",fn:function({ item }){return [_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"to\":`/project/costs/${item.url}`}},[_c('v-icon'),_vm._v(\"Costs \")],1)]}},{key:\"item.setup\",fn:function({ item }){return [_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"to\":`/unit/setup/${item.url}`}},[_c('v-icon'),_vm._v(\"Units Setup \")],1)]}},{key:\"item.mwatch\",fn:function({ item }){return [_c('v-btn',{attrs:{\"color\":\"accent\",\"text\":\"\",\"to\":`/local/watch/${item.url}`}},[_c('v-icon'),_vm._v(\"LCL Watch \")],1)]}},{key:\"item.interwatch\",fn:function({ item }){return [_c('v-btn',{attrs:{\"color\":\"accent\",\"text\":\"\",\"to\":`/international/watch/${item.url}`}},[_c('v-icon'),_vm._v(\"INT Watch \")],1)]}},{key:\"item.seasons\",fn:function({ item }){return [_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"to\":`/seasons/${item.url}`}},[_c('v-icon'),_vm._v(\"Seasons \")],1)]}},{key:\"item.image\",fn:function({ item }){return [_c('v-img',{staticStyle:{\"max-height\":\"50px\"},attrs:{\"src\":`${_vm.serverUrl}/uploads/projects/${item.coverImage}`,\"height\":\"50px\",\"width\":\"50px\"}})]}}])})],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"650px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dense\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Delete Project\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},nativeOn:{\"click\":function($event){_vm.dialog = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-text',[_c('v-row',{staticClass:\"subtitle-2 text--primary\"},[_c('v-col',{attrs:{\"cols\":\"12\"}}),_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\" Are you sure you want to delete this project - \"),(_vm.activeItem)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\" \"+_vm._s(_vm.activeItem.title)+\" \")]):_vm._e(),_vm._v(\" ? \")]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{attrs:{\"color\":\"red\",\"dark\":\"\",\"loading\":_vm.loader},on:{\"click\":_vm.deleteItem}},[_vm._v(\"Yes\")])],1)],1)],1)],1)],1),_c('snackbar',{ref:\"snackbar\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid>\n    <v-toolbar color=\"toolbarColor\" dense dark>\n      <v-toolbar-title>Projects</v-toolbar-title>\n    </v-toolbar>\n\n    <v-row>\n      <v-col cols=\"12\">\n        <v-btn color=\"accent\" text to=\"/new/project\">\n          <v-icon>mdi-plus</v-icon>Project\n        </v-btn>\n      </v-col>\n    </v-row>\n\n    <v-row>\n      <v-col cols=\"12\">\n        <v-text-field v-model=\"search\" label=\"Label\" outlined dense></v-text-field>\n        <v-data-table\n          :items-per-page=\"1000\"\n          :headers=\"headers\"\n          :items=\"projects\"\n          :search=\"search\"\n          :mobile-breakpoint=\"0\"\n        >\n          <!-- action template -->\n          <template v-slot:item.delete=\"{ item }\">\n            <v-btn @click=\"openModal(item)\" color=\"accent\" text icon>\n              <v-icon>mdi-delete</v-icon>\n            </v-btn>\n          </template>\n          <!-- end -->\n\n          <!-- action template -->\n          <template v-slot:item.title=\"{ item }\">\n            <v-btn color=\"accent\" text :to=\"`/project/details/${item.url}`\">{{item.title}}</v-btn>\n          </template>\n          <!-- end -->\n\n          <!-- action template -->\n          <template v-slot:item.action=\"{ item }\">\n            <v-btn color=\"accent\" text :to=\"`/project/details/${item.url}`\" icon>\n              <v-icon>mdi-eye</v-icon>\n            </v-btn>\n          </template>\n          <!-- end -->\n\n          <!-- action template -->\n          <template v-slot:item.zones=\"{ item }\">\n            <v-btn color=\"primary\" text :to=\"`/project/zones/${item.url}`\">\n              <v-icon></v-icon>Zones\n            </v-btn>\n          </template>\n          <!-- end -->\n\n          <!-- action template -->\n          <template v-slot:item.active=\"{ item }\">\n            <v-switch @change=\"updateStatus(item)\" color=\"accent\" v-model=\"item.active\"></v-switch>\n          </template>\n          <!-- end -->\n\n          <!-- action template -->\n          <template v-slot:item.costdef=\"{ item }\">\n            <v-btn color=\"primary\" text :to=\"`/project/costs/${item.url}`\">\n              <v-icon></v-icon>Costs\n            </v-btn>\n          </template>\n          <!-- end -->\n\n          <!-- action template -->\n          <template v-slot:item.setup=\"{ item }\">\n            <v-btn color=\"primary\" text :to=\"`/unit/setup/${item.url}`\">\n              <v-icon></v-icon>Units Setup\n            </v-btn>\n          </template>\n          <!-- end -->\n\n          <!-- action template -->\n          <template v-slot:item.mwatch=\"{ item }\">\n            <v-btn color=\"accent\" text :to=\"`/local/watch/${item.url}`\">\n              <v-icon></v-icon>LCL Watch\n            </v-btn>\n          </template>\n          <!-- end -->\n\n          <!-- action template -->\n          <template v-slot:item.interwatch=\"{ item }\">\n            <v-btn color=\"accent\" text :to=\"`/international/watch/${item.url}`\">\n              <v-icon></v-icon>INT Watch\n            </v-btn>\n          </template>\n          <!-- end -->\n\n          <!-- action template -->\n          <template v-slot:item.seasons=\"{ item }\">\n            <v-btn color=\"primary\" text :to=\"`/seasons/${item.url}`\">\n              <v-icon></v-icon>Seasons\n            </v-btn>\n          </template>\n          <!-- end -->\n\n          <!-- action template -->\n          <template v-slot:item.image=\"{ item }\">\n            <v-img\n              :src=\"`${serverUrl}/uploads/projects/${item.coverImage}`\"\n              height=\"50px\"\n              width=\"50px\"\n              style=\"max-height: 50px\"\n            ></v-img>\n          </template>\n          <!-- end -->\n        </v-data-table>\n      </v-col>\n    </v-row>\n\n    <v-dialog v-model=\"dialog\" max-width=\"650px\">\n      <v-card>\n        <v-toolbar dense color=\"primary\" dark>\n          <v-toolbar-title>Delete Project</v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-btn icon @click.native=\"dialog = false\" dark>\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-toolbar>\n        <v-card-text>\n          <v-row class=\"subtitle-2 text--primary\">\n            <v-col cols=\"12\"></v-col>\n            <v-col cols=\"12\">\n              Are you sure you want to delete this project -\n              <span\n                v-if=\"activeItem\"\n                style=\"color: red\"\n              >\n                {{\n                activeItem.title\n                }}\n              </span>\n              ?\n            </v-col>\n\n            <v-col cols=\"12\">\n              <v-btn @click=\"deleteItem\" color=\"red\" dark :loading=\"loader\">Yes</v-btn>\n            </v-col>\n          </v-row>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n\n    <snackbar ref=\"snackbar\"></snackbar>\n  </v-container>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nexport default {\n  computed: {\n    ...mapGetters([\"serverUrl\"])\n  },\n  data() {\n    return {\n      search: \"\",\n      projects: [],\n      dialog: false,\n      activeItem: {},\n      loader: false,\n      headers: [\n        { text: \"Dlt\", value: \"delete\" },\n        { text: \"Image\", value: \"image\" },\n        { text: \"Name\", value: \"title\" },\n        { text: \"Active\", value: \"active\" },\n        { text: \"Zones\", value: \"zones\" },\n        { text: \"Costs\", value: \"costdef\" },\n        { text: \"Unit\", value: \"setup\" },\n        { text: \"LCL Watch\", value: \"mwatch\" },\n        { text: \"Int Watch\", value: \"interwatch\" },\n        { text: \"Seasons\", value: \"seasons\" },\n        { text: \"Action\", value: \"action\" }\n      ]\n    };\n  },\n  methods: {\n    openModal(data) {\n      this.activeItem = Object.assign({}, data);\n      this.dialog = true;\n    },\n    updateStatus(item) {\n      const details = {\n        active: item.active\n      };\n      const data = {\n        product: JSON.stringify(details)\n      };\n      const url = `/projects/edit/status/${item._id}`;\n      const self = this;\n      this.$store\n        .dispatch(\"expressPut\", { url, data })\n        .then((res) => {\n          if (res.state) {\n            location.reload();\n          } else {\n            self.$refs.snackbar.show(res.msg, \"red\");\n          }\n        })\n        .catch((err) => {\n          this.$refs.snackbar.show(err, \"red\");\n        });\n    },\n    getData() {\n      const url = \"/projects\";\n      const self = this;\n      this.$store\n        .dispatch(\"expressGet\", url)\n        .then(res => {\n          if (res.state) {\n            self.projects = res.records;\n          }\n        })\n        .catch(err => {\n          console.log(err, \"error\");\n          this.$refs.snackbar.show(err, \"red\");\n        });\n    },\n    deleteItem() {\n      const url = `/projects/${this.activeItem._id}`;\n      const self = this;\n      this.loader = true;\n      this.$store\n        .dispatch(\"expressRemove\", url)\n        .then(res => {\n          if (res.state) {\n            location.reload();\n          } else {\n            self.$refs.snackbar.show(res.msg, \"red\");\n          }\n        })\n        .catch(err => {\n          this.$refs.snackbar.show(err, \"red\");\n        });\n    }\n  },\n  created() {\n    this.getData();\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0d056999&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d056999\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}